<!DOCTYPE html>
<html>

<head>
    <title>Crowd Jigsaw Puzzle</title>
    <!-- Material Design Theming -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link href="styles/puzzle.css" rel="stylesheet" type="text/css" />
    <script src="scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="scripts/paper.js" type="text/javascript"></script>
    <script type="text/paperscript" canvas="canvas" src="scripts/jigsaw.js">
    </script>
</head>

<body>
    <div class="header mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <!-- Header section containing title -->
        <header class="mdl-layout__header mdl-layout__header--transparent">
            <div class="mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-grid">
                <div class="mdl-layout__header-row mdl-shadow--16dp mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--4-col-desktop">
                    <h3>Crowd Jigsaw Puzzle</h3>
                </div>
            </div>
        </header>     
    </div>
    <div class="puzzle">
    <canvas id="canvas" class="canvas" resize></canvas>
    </div>
    <div class="charms mdl-shadow--16dp">
        <img width="50" height="50" src="images/help.png" class="help" />
        <img width="50" height="50" src="images/user.png" class="user" />
        <img width="50" height="50" src="images/zoomOut.png" class="zoomOut" />
        <img width="50" height="50" src="images/zoomIn.png" class="zoomIn" />
        <img width="50" height="50" src="images/restart.png" class="restart" />
        <img width="50" height="50" src="images/settings.png" class="settings" />
    </div>
    <div class="solution">
        <img width="512" height="512" id="puzzle-image" class="puzzle-image" style="display: none;" src="images/corgi.jpg" />
        <img width="128" height="128" id="empty" style="display: none;" src="images/empty.png" />
    </div>
    <div class="info mdl-shadow--16dp">
        <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="show_steps">
            <span class="mdl-switch__label"></span>
            <input type="checkbox" id="show_steps" class="mdl-switch__input" checked onclick="showSteps()">
        </label>
        <span id="steps_chip" class="mdl-chip mdl-chip--contact">
            <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">S</span>
        <span id="steps" class="mdl-chip__text">0</span>
        <button type="button" class="mdl-chip__action"><i class="material-icons">cancel</i></button>
        </span>
        <br/>
        <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="show_timer">
            <span class="mdl-switch__label"></span>
            <input type="checkbox" id="show_timer" class="mdl-switch__input" checked onclick="showTimer()">
        </label>
        <div id="timer_chip" class="mdl-chip mdl-chip--contact">
            <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">T</span>
            <span id="timer" class="mdl-chip__text">00:00:00</span>
            <button type="button" class="mdl-chip__action"><i class="material-icons">cancel</i></button>
        </div>
    </div>
</body>

<script type="text/javascript">
    window.onload = function () {
        var timer = document.getElementById("timer");
        init(timer);
    }
    var hour, minute, second;
    var t;
    var init = function (theTimer) {
        theTimer.innerHTML = "00:00:00";
        hour = minute = second = 0;
        startit();
    }
    function startit() {
        second++;
        if (second >= 60) {
            second = 0;
            minute++;
        }
        if (minute >= 60) {
            minute = 0;
            hour++;
        }
        timer.innerHTML = j(hour) + ":" + j(minute) + ":" + j(second);
        t = setTimeout("startit()", 1000);
    }
    var j = function (arg) {
        return arg >= 10 ? arg : "0" + arg;
    }
    function showSteps(){
        $("#steps_chip").fadeToggle('slow');
    }
    function showTimer(){
        $("#timer_chip").fadeToggle('slow');
    }
</script>

</html>
